<div class="container">
  <div class="col-md-12 d-flex justify-content-center">
    <p class="h4">レビュー新規投稿</p>
  </div>

  <%= form_with(model:[@product, @review], url: confirm_product_reviews_path(@product.id), local: true) do |f| %>
  <div class="row">
    <%= render 'layouts/error_messages', model: f.object %>
  </div>
  <div class="row mt-3">
    <div class="col-md-1 my-1 p-0 offset-md-3 d-flex align-items-center justify-content-center" style="background-color: #DDDDDD;">
      <p class="m-0">
        <%= f.label :"タイトル", class: "m-0" %>
      </p>
    </div>
    <div class="col-md-5 my-1 ml-3 p-2" style="background-color: #EEEEEE;" >
      <%= f.text_field :title, class: "form-control" %>
    </div>

    <div class="col-md-1 my-1 p-0 offset-md-3 d-flex align-items-center justify-content-center" style="background-color: #DDDDDD;">
      <p class="m-0">
        内容
      </p>
    </div>
    <div class="col-md-5 my-1 ml-3 p-2" style="background-color: #EEEEEE;" >
      <%= f.text_area :comment, size: "20x20", placeholder: "レビューの内容をお書きください", class: "form-control" %>
    </div>

    <div class="col-md-1 my-1 p-0 offset-md-3 d-flex align-items-center justify-content-center" style="background-color: #DDDDDD;">
      <p class="m-0">
        評価
      </p>
    </div>
    <div class="col-md-5 my-1 ml-3 p-2" style="background-color: #EEEEEE;">
      <div class="row">
        <div class="col-md-5" id="evaluate_stars"></div>
        <div class="col-md-7 m-0">
          ※0.5~5点で評価してください。
        </div>
      </div>
    </div>
  </div>
  <div class="row mt-5 d-flex justify-content-center">
    <div class="col-md-3">
      <%= f.hidden_field :user_id, value: current_user.id %>
      <%= f.hidden_field :product_id, value: @product.id %>
      <%= f.submit "レビュー内容を保存する", class: "btn btn-outline-secondary form-control" %>
    </div>
  </div>
<% end %>
</div>

<script>
  $('#evaluate_stars').raty({
    starOn: "<%= asset_path('star-on.png') %>",
    starOff: "<%= asset_path('star-off.png') %>",
    starHalf: "<%= asset_path('star-half.png') %>",
    scoreName: 'review[evaluation]',
    half: true
  });
</script>