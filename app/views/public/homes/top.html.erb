<div class="container">
  <div class="sticky-top">
    <div class="row mb-5 p-2 border border-dark rounded bg-white">
      <div class="col-md-4 d-flex align-items-center">
        <p class="h4 m-0 font-weight-bold">商品名で検索する</p>
      </div>
      <div class="col-md-8">
        <%= form_with url: search_path, method: :get, local:true do |f| %>
          <div class="row d-flex align-items-center">
            <div class="col-md-8">
              <%= f.text_field 'search[value]', class: "form-control", placeholder: "商品名を入力" %>
              <%= f.hidden_field 'search[model]', value: "product" %>
            </div>
            <div class="col-md-2">
              <%= f.submit "検索", class: "btn btn-outline-success form-control d-flex justify-content-center" %>
            </div>
          </div>
        <% end %>
      </div>
    </div>
  </div>
  <%= render 'public/homes/search', genres: @genres, tags: @tags %>
  <%= render 'public/homes/ranking', genre_rankings: @genre_rankings %>
</div>

<script>
  $('.review-average').empty();
    $('.review-average').raty({
      readOnly: true,
      starOn: "<%= asset_path('star-on.png') %>",
      starOff: "<%= asset_path('star-off.png') %>",
      starHalf: "<%= asset_path('star-half.png') %>",
      score: function() {
        return $(this).attr('data-score');
      },
    });
</script>
